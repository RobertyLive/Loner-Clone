","download_title","show_notification","max_parallel_downloads","saveas_detected_warning","change_saveas_setting","download_directory_title","download_directory_description","change_browser_download_directory","bad_download_subdirectory_warning","download_subdirectory","private_browsing_title","private_browsing_warning","private_browsing_notifications","private_browsing_button","throttle_youtube","prefer_original_audio","prefer_hls","settings_history_title","transient_history_description","history_limit","appearance_title","theme_title","theme_light","theme_dark","theme_system","popup_size_title","popup_size_small","popup_size_medium","popup_size_big","panel_position_title","use_popup","use_sidebar","behavior_title","controls_title","show_in_context_menu","restart_addon","reset_settings","prefered_quality","prefered_quality_highest","prefered_quality_1080p","prefered_quality_720p","prefer_mkv","preview_mode_title","preview_mode_none","preview_mode_video","preview_mode_image","history_title","history_warning","history_warning_2","enable_history","clear_history","disable_history","no_downloads_yet","download_failed","download_failed_description","download_interrupted","download_interrupted_description","download_with_drm_failed_description","no_youtube","no_youtube_description","no_youtube_description_2","premium_required","premium_yt_required_description","premium_hls_required_description","premium_all_required_description","youtube_too_many_downloads","youtube_too_many_downloads_description","stop","cancel","copy_url","always_copy_url","download_button","download_as_button_and_menu","rename_short","always_download_as_menu","download_audio_button","download_audio_and_video_menu","download_audio_only_menu","audio_only_for_this_website","details","report","reporting","reported_thankyou","not_playing_title","not_playing_broken_title","not_playing_broken_description","not_playing_broken_solution_title","not_playing_broken_solution_windows_1","not_playing_broken_solution_mac_1","not_playing_broken_solution_2","not_playing_default_player","not_playing_default_player_solution_windows","not_playing_default_player_solution_mac"],Za=["back","header_help","header_community","activate_title","activate_pending","activate_success","activate_error","activate_no_addon_found","activate_no_method_found","activate_help_me","issue_title","issue_submit","issue_thank_you","issue_enter_email","issue_email_sent","issue_or_digit","issue_just_digit","issue_i_have_a_code","issue_i_have_a_key","issue_key","landing_text1","landing_text2","landing_text3","landing_text4","landing_install_for_google","landing_install_for_mozilla","landing_install_for_microsoft","landing_feature1_title","landing_feature1_description","landing_feature2_title","landing_feature2_description","landing_feature3_title","landing_feature3_description","landing_feature4_title","landing_feature4_description","premium_hero1","premium_hero2","premium_hero3","welcome_text","welcome_pin_message"];var ub=new Set(tu),jd=v.enum(Fr),Nd=v.enum(Za),ru=v.map(jd,v.string()),nu=v.map(Nd,v.string()),cb=new Set(Fr);var iu=v.templateLiteral(["ded_",v.string()]),Ud=v.templateLiteral(["media_hash_",v.number()]),ou=v.enum(["download","download_as","download_audio","copy"]),Rd=v.enum(["popup","sidebar"]),Ga=v.string().brand("directorypath"),Cd=v.strictObject({downloaded_id:iu,media_hash:Ud,path:v.string(),browser_download_id:v.number(),download_timestamp:v.number(),origin_url:v.nullable(v.url()),origin_favicon_url:v.nullable(v.url()),has_drm:v.boolean(),subdir:v.optional(Ga)}),Ld=v.enum(["SUBSCRIPTION","LIFETIME","GOLDEN"]),Fd=v.object({iat:v.optional(v.number()),user_id:v.number(),store:v.string().max(256),jti:v.string().max(512),valid_until:v.number(),exp:v.number(),developer:v.boolean().optional(),entitlement_type:Ld.optional()}),Zd=Fd.extend({raw:v.string()}),Bd=v.enum(["original","user_language"]),Gd=v.enum(["none","video","image"]),qd=v.enum(["system","light","dark"]),Hd=v.enum(["big","medium","small"]),Wd=v.strictObject({max_length:v.number(),template:v.string(),force_doc_title:v.optional(v.boolean())}),Yd=v.strictObject({template:v.string(),url:v.string(),max_length:v.nullable(v.number()),selector:v.nullable(v.string()),subdir:v.optional(Ga),force_doc_title:v.optional(v.boolean()),replace:v.optional(v.array(v.strictObject({from:v.string(),to:v.string()})))}),Ba=v.strictObject({version:v.number(),default_action:ou,default_action_per_hostname:v.map(v.string(),ou),downloaded:v.map(iu,Cd),jwt:v.nullable(Zd),lsd:v.number(),dockmode:Rd,download_directory:Ga,youtube_throttle:v.boolean(),youtube_audio_strategy:Bd,youtube_prefer_hls:v.boolean(),max_concurrent_downloads:v.number(),show_desktop_notifications:v.boolean(),show_desktop_notifications_private:v.boolean(),history_days:v.number(),show_transient_history:v.boolean(),ui_theme:qd,use_context_menu:v.boolean(),dont_ask_for_user_review:v.boolean(),successful_downloads_count:v.number(),prefered_quality:v.nullable(v.number()),prefered_av_muxer:v.enum(["mp4","mkv"]),hide_nomedia_box:v.boolean(),popup_size:Hd,smartnaming:v.strictObject({source:v.nullable(v.string()),compiled:v.strictObject({default_:Wd,rules:v.array(Yd)})}),preview_mode:Gd,last_migration_request:v.number(),custom_strings:v.strictObject({web:nu,addon:ru})}),pb=Ba.readonly();function au(e){let r=qa();if(e&&typeof e=="object")for(let n of Object.keys(Ba.shape)){let i=Ba.shape[n];if(n in e){let t=e[n],o=i.safeParse(t);if(o.success)r[n]=o.data;else{for(let a of o.error.issues)console.warn("Zod issue"),console.warn(a.path.join(".")),console.warn(a.message);console.warn(o.error.issues),console.warn(o.error.type),console.warn(o.error.message),console.warn(`Failed to import past persitent state field: ${n}. Fallback to default. Value was:`,t)}}}return r}var Kd=1710169438e3;function qa(){return{version:1,default_action_per_hostname:new Map,downloaded:new Map,jwt:null,lsd:Kd,default_action:"download",hide_nomedia_box:!0,dont_ask_for_user_review:!1,dockmode:"popup",download_directory:Rt,youtube_throttle:!0,youtube_audio_strategy:"original",youtube_prefer_hls:!0,max_concurrent_downloads:6,show_desktop_notifications:!0,show_desktop_notifications_private:!1,history_days:0,show_transient_history:!0,ui_theme:"system",use_context_menu:!0,prefered_quality:1080,prefered_av_muxer:"mp4",popup_size:"medium",successful_downloads_count:0,smartnaming:{source:null,compiled:Qr()},preview_mode:"video",last_migration_request:0,custom_strings:{addon:new Map,web:new Map}}}function su(){return{current_win_tab:{tab_id:Y,win_id:Y},notifications:new Map,discovered:new Map,downloading:new Map,transient_history:[],suspecting_saveas:!1}}var Ha="global_session_state",Wa="global_persistent_state",Qd="session";async function lu(){let e=await Et.storage[Qd].get(Ha);if(Ha in e){let r=e[Ha];return te(r)}else return su()}async function uu(){let e=await Et.storage.local.get(Wa);if(Wa in e){let n=e[Wa];return au(te(n))}let r=qa();{let n=await Et.storage.local.get();typeof n.concurrent_downloads_max=="number"&&(r.max_concurrent_downloads=n.concurrent_downloads_max),typeof n.show_success_notification=="boolean"&&(r.show_desktop_notifications=n.show_success_notification),typeof n.show_success_notification_for_icognito=="boolean"&&(r.show_desktop_notifications=n.show_success_notification_for_icognito),typeof n.show_context_menu=="boolean"&&(r.use_context_menu=n.show_context_menu),typeof n.use_sidebar=="boolean"&&(r.dockmode="sidebar"),typeof n.theme=="string"&&(n.theme=="light"||n.theme=="dark"||n.theme=="system")&&(r.ui_theme=n.theme),typeof n.record_download_history=="boolean"&&n.record_download_history==!0&&typeof n.history_limit_in_days=="number"&&(r.history_days=n.history_limit_in_days),typeof n.default_action=="string"&&(n.default_action=="copy"&&(r.default_action="copy"),n.default_action=="download_audio"&&(r.default_action="download_audio")),typeof n.never_show_successfull_dl_message=="boolean"&&(r.dont_ask_for_user_review=n.never_show_successfull_dl_message),r.smartnaming.compiled=await os(),await Et.storage.local.remove(["user_sidebar","concurrent_downloads_max","show_success_notification","show_success_notification_for_icognito","show_context_menu","theme","record_download_history","history_limit_in_days","default_action","never_show_successfull_dl_message"])}return r}var cu=new URL(document.location.toString()).searchParams,em=cu.get("tab_id")??"",_u=cu.get("media_hash")??"",tm=await lu(),Zr=await uu(),du=tm.discovered.get(parseInt(em)),N=du?.media.get(_u),fe=du?.meta.unwrapOr(null);if(fe&&N){let e=i=>i.href,{basename:r,subdir:n}=en(N,fe);B("Tab",`${fe.tab_id} (incognito: ${fe.incognito})`),B("Basename",r),B("SubDir",n),B("Hash",_u),B("Page URL",`${fe.url.map(e).unwrapOr("none")} with ${[...N.sent_headers.values()].length} headers`),B("Thumbnail",fe.thumbnail_url.map(e).unwrapOr("none")),B("Type",N.type),B("DRM Protected",`${N.has_drm}`),"duration"in N&&B("Duration",N.duration.toString()),"demuxer"in N&&B("Demuxer",N.demuxer),"extension"in N&&B("Extension",N.extension),"url"in N?B("Media URL",N.url.href):N.type=="m3u8_playlist"&&B("Master URL",N.master_url.href),(N.type=="m3u8_playlist"||N.type=="youtube_format")&&rm(N);for(let[i,t]of[...N.sent_headers.entries()])B(i,t)}function rm(e){let r=0;for(let n of e.playlist.values()){n.av.video&&("url"in n.av.video?B(`#${r} video component`,n.av.video.url.href):B(`#${r} video component`,n.av.video.href)),n.av.audio&&("url"in n.av.audio?B(`#${r} audio component`,n.av.audio.url.href):B(`#${r} audio component`,n.av.audio.href));let i=n.demuxer;i+=" b:"+n.quality.bitrate,i+=" p:"+n.quality.size.map(t=>`${t.width}x${t.height}`).unwrapOr("none"),B(`#${r} core media`,i),r++}}function B(e,r,n){let i=document.querySelector("tbody"),t=document.createElement("tr"),o=document.createElement("th"),a=document.createElement("td");t.appendChild(o),t.appendChild(a),o.textContent=e,a.textContent=r,n&&t.classList.add("separator"),i.appendChild(t)}if(N&&fe){let e,{basename:r,subdir:n}=en(N,fe),i=N.is_youtube&&Zr.youtube_throttle;if(N.type=="m3u8_playlist"||N.type=="youtube_format"||N.type=="mpd_playlist"){let s=ts(N,Zr.prefered_quality);e=tn(N,!1,!1,Zr.prefered_av_muxer,r,n,s,i)}else e=tn(N,!1,!1,Zr.prefered_av_muxer,r,n,void 0,i);let t=new Tt,o=`libav-${Vt.VER}-${Vt.CONFIG}.wasm.wasm`,a=await Vt.LibAV({noworker:!0,base:"/download_worker/",wasmurl:`../download_worker/${o}`});a.onwrite=t.onwrite.bind(t),window.debug={libav:a,meta:fe,media:N,args:e},await a.ffmpeg("-version")}
/*! Bundled license information:

smol-toml/dist/error.js:
smol-toml/dist/util.js:
smol-toml/dist/date.js:
smol-toml/dist/primitive.js:
smol-toml/dist/extract.js:
smol-toml/dist/struct.js:
smol-toml/dist/parse.js:
smol-toml/dist/stringify.js:
smol-toml/dist/index.js:
  (*!
   * Copyright (c) Squirrel Chat et al., All rights reserved.
   * SPDX-License-Identifier: BSD-3-Clause
   *
   * Redistribution and use in source and binary forms, with or without
   * modification, are permitted provided that the following conditions are met:
   *
   * 1. Redistributions of source code must retain the above copyright notice, this
   *    list of conditions and the following disclaimer.
   * 2. Redistributions in binary form must reproduce the above copyright notice,
   *    this list of conditions and the following disclaimer in the
   *    documentation and/or other materials provided with the distribution.
   * 3. Neither the name of the copyright holder nor the names of its contributors
   *    may be used to endorse or promote products derived from this software without
   *    specific prior written permission.
   *
   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
   * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
   * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
   * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
   * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
   * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
   * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
   * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
   * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
   * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
   *)
*/
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="300" height="150" viewBox="0 0 300 150">
  <defs>
    <clipPath id="clip-s_share_send_confirmation_300">
      <rect width="300" height="150"/>
    </clipPath>
  </defs>
  <g id="s_share_send_confirmation_300" clip-path="url(#clip-s_share_send_confirmation_300)">
    <path id="S_IlluShareSendConfirmation_256x100" d="M252.723,25.919a1.485,1.485,0,0,0,.038-.333c0-.03,0-.059,0-.089a1.479,1.479,0,0,0-.067-.378c-.005-.016-.014-.031-.02-.047a1.5,1.5,0,0,0-.091-.213c-.019-.035-.044-.063-.066-.1-.01-.016-.014-.034-.025-.049s-.022-.021-.032-.033a1.478,1.478,0,0,0-.268-.282c-.01-.008-.023-.014-.033-.021a1.483,1.483,0,0,0-.29-.166c-.039-.017-.076-.033-.116-.046a1.5,1.5,0,0,0-.333-.077c-.029,0-.057,0-.086,0a1.518,1.518,0,0,0-.332.024c-.017,0-.034,0-.051,0l-48,10.364a2.722,2.722,0,0,0-1.082,4.822l10.018,7.676-1.07,9.492a2.522,2.522,0,0,0,4.216,2.143l4.185-3.843a1.5,1.5,0,0,0,.106-2.093l9.12,6.989a2.731,2.731,0,0,0,1.656.56,2.769,2.769,0,0,0,.491-.044,2.727,2.727,0,0,0,1.824-1.246h0l20.125-32.564c.007-.011.008-.023.015-.034a1.49,1.49,0,0,0,.154-.357C252.717,25.958,252.718,25.938,252.723,25.919Zm-11.218,3.3L213.611,44.516l-9.439-7.232ZM217.192,52.559l-3.248,2.982.726-6.436,4.291,3.288a1.484,1.484,0,0,0-1.769.165Zm12.836,4.536L216.214,46.51,247,29.629ZM111.084,55.328h.063c2.045,0,4.108-2.858,5.491-5.285.788-.267,1.61-.514,2.447-.733.916-.238,1.788-.431,2.593-.571a7.911,7.911,0,0,0,5.121,2.2c1.293,0,1.773-.548,1.949-1.009a1.437,1.437,0,0,0,.093-.52,1.548,1.548,0,0,0-.381-1.028c-.6-.641-1.817-.979-3.523-.979a19.379,19.379,0,0,0-2.927.251,14.143,14.143,0,0,1-1.714-1.97,18.177,18.177,0,0,1-1.064-1.642,16.312,16.312,0,0,0,.933-4.642c0-1.377-.544-2.848-2.076-2.848a1.5,1.5,0,0,0-1.249.732c-.668,1.14-.388,3.5.7,5.9-.406,1.182-.822,2.273-1.307,3.428a30.7,30.7,0,0,1-1.481,3.036c-3.237,1.284-5.149,2.668-5.387,3.9a1.394,1.394,0,0,0,.451,1.316,1.985,1.985,0,0,0,1.272.463Zm13.594-6.93a11.813,11.813,0,0,1,1.6.108c.544.112.779.378.7.791-.061.317-.411.522-.891.522a1.86,1.86,0,0,1-.425-.05,7.475,7.475,0,0,1-2.632-1.256A11.852,11.852,0,0,1,124.679,48.4Zm-6.959-10.6.038-.066a.43.43,0,0,1,.321-.168c.4,0,.487.535.489.97a13.948,13.948,0,0,1-.546,3.134C117.395,39.853,117.381,38.375,117.719,37.8Zm.329,9.4c.289-.688.536-1.316.75-1.908.218.345.44.672.672.99a16.058,16.058,0,0,0,1.248,1.517h-.011l.073.075c-.636.128-1.291.28-1.949.455-.49.127-.986.267-1.5.425.267-.531.512-1.062.717-1.555Zm-4.2,3.943c-1.225,1.876-2.41,3.058-3.1,3.058a.4.4,0,0,1-.385-.458C110.494,53.067,111.839,52.072,113.85,51.142ZM134,63a1,1,0,0,1-1,1H106a1,1,0,0,1,0-2h27a1,1,0,0,1,1,1Zm0,5a1,1,0,0,1-1,1H106a1,1,0,0,1,0-2h27a1,1,0,0,1,1,1ZM116.537,9.189a1.5,1.5,0,1,1-1.5,1.5,1.5,1.5,0,0,1,1.5-1.5ZM52,24.5V9a5,5,0,0,1,5-5H178a5,5,0,0,1,5,5V61.5a1.5,1.5,0,0,1-3,0V9a2,2,0,0,0-2-2H57a2,2,0,0,0-2,2V24.5a1.5,1.5,0,0,1-3,0ZM200,86H35a1.5,1.5,0,0,0-1.5,1.5v3A4.5,4.5,0,0,0,38,95H197a4.5,4.5,0,0,0,4.5-4.5v-3A1.5,1.5,0,0,0,200,86Zm-1.5,4.5A1.5,1.5,0,0,1,197,92H38a1.5,1.5,0,0,1-1.5-1.5V89H104a2,2,0,0,0,2,2h22a2,2,0,0,0,2-2h68.5Zm6.2-33.966a66.82,66.82,0,0,1-27.569,9.92.945.945,0,0,0-.348-.016c-13.061,1.793-23.82.317-33.786-4.629V35.724a7.167,7.167,0,0,0-2.109-5.059l-7.675-7.6A7.077,7.077,0,0,0,128.207,21h-25.6A6.616,6.616,0,0,0,96,27.608v.913a55.724,55.724,0,0,0-20.727-3.763c-12.209,0-22.857,2.524-32.554,7.717a1,1,0,1,0,.944,1.764c9.4-5.033,19.739-7.48,31.61-7.48A53.552,53.552,0,0,1,96,30.686V71.393A6.615,6.615,0,0,0,102.607,78h33.785A6.616,6.616,0,0,0,143,71.392V64.019a53.673,53.673,0,0,0,23.565,5.16,75.167,75.167,0,0,0,8.816-.553.983.983,0,0,0,.259.048,1.091,1.091,0,0,0,.113-.006,69.142,69.142,0,0,0,30.032-10.45,1,1,0,0,0-1.082-1.682ZM140,71.392A3.613,3.613,0,0,1,136.392,75H102.607A3.611,3.611,0,0,1,99,71.393V27.608A3.613,3.613,0,0,1,102.608,24h25.6a4.1,4.1,0,0,1,2.9,1.192l7.675,7.6A4.149,4.149,0,0,1,140,35.724ZM35.521,45.253a16.154,16.154,0,1,1-3.972-10.547l3.391-3.391a1.5,1.5,0,1,1,2.121,2.121L20.441,50.055a1.5,1.5,0,0,1-2.121,0l-5.54-5.54A1.5,1.5,0,1,1,14.9,42.394l4.479,4.479L29.424,36.83a13.068,13.068,0,1,0,3.1,8.423,1.5,1.5,0,0,1,3,0ZM53.5,84A1.5,1.5,0,0,1,52,82.5v-49a1.5,1.5,0,0,1,3,0v49A1.5,1.5,0,0,1,53.5,84Zm128,0a1.5,1.5,0,0,1-1.5-1.5v-11a1.5,1.5,0,0,1,3,0v11a1.5,1.5,0,0,1-1.5,1.5Z" transform="translate(32.664 26)" fill="#b3b3b3"/>
  </g>
</svg>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           